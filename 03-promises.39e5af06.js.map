{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAASC,SAASC,cAAc,QAEtC,IAAIC,EAAW,GAEfH,EAAOI,iBAAiB,SAkDxB,SAAsBC,GACpBF,EAASE,EAAEC,OAAOC,MAAQF,EAAEC,OAAOE,K,IAlDrCR,EAAOI,iBAAiB,UAGxB,SAAsBC,GACpBA,EAAEI,iBACF,IAAK,IAAIC,EAAI,EAAGA,EAAIP,EAASQ,OAAQD,GAAK,EAEtCP,EAASS,MADD,IAANF,EACeG,OAAOV,EAASS,OAASC,OAAOV,EAASW,MAAQJ,EAEjDG,OAAOV,EAASS,OAASC,OAAOV,EAASW,MAE5DC,EAAcZ,GACXa,MAAK,EAAGC,SAAAC,EAAQN,MAAEA,MACjBO,YACE,IACEC,EAAAtB,GAASuB,OAAOC,QACd,qBAAqBJ,QAAeN,MACpC,CACEW,aAAa,KAGnBX,EACD,IAEFY,OAAM,EAACZ,MAAEA,EAAOK,SAAAQ,MACfN,YACE,IACEC,EAAAtB,GAASuB,OAAOK,QACd,qBAAqBD,QAAeb,MACpC,CACEW,aAAa,KAGnBX,EACD,G,IAhCT,IAAIe,EAAW,EAoCf,SAASZ,GAAcH,MAAEA,EAAKE,KAAEA,EAAIH,OAAEA,IACpC,OAAO,IAAIiB,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAgBC,KAAKC,SAAW,GACtCN,GAAY,EACRI,EACFF,EAAQ,C,SAAEF,E,MAAUf,IAEpBkB,EAAO,C,SAAEH,E,MAAUf,GAAQ,G","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst formEl = document.querySelector('form');\n\nlet formData = {};\n\nformEl.addEventListener('input', onInputValue);\nformEl.addEventListener('submit', onFormSubmit);\n\nlet position = 0;\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  for (let i = 0; i < formData.amount; i += 1) {\n    if (i === 0) {\n      formData.delay = Number(formData.delay) + Number(formData.step) * i;\n    } else {\n      formData.delay = Number(formData.delay) + Number(formData.step);\n    }\n    createPromise(formData)\n      .then(({ position, delay }) => {\n        setTimeout(\n          () =>\n            Notiflix.Notify.success(\n              `Fulfilled promise ${position} in ${delay}ms`,\n              {\n                closeButton: true,\n              }\n            ),\n          delay\n        );\n      })\n      .catch(({ delay, position }) => {\n        setTimeout(\n          () =>\n            Notiflix.Notify.failure(\n              `Fulfilled promise ${position} in ${delay}ms`,\n              {\n                closeButton: true,\n              }\n            ),\n          delay\n        );\n      });\n  }\n}\nfunction createPromise({ delay, step, amount }) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    position += 1;\n    if (shouldResolve) {\n      resolve({ position, delay });\n    } else {\n      reject({ position, delay });\n    }\n  });\n}\nfunction onInputValue(e) {\n  formData[e.target.name] = e.target.value;\n}\n"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$formEl","document","querySelector","$47d4ff9957288465$var$formData","addEventListener","e","target","name","value","preventDefault","i","amount","delay","Number","step","$47d4ff9957288465$var$createPromise","then","position","position1","setTimeout","$parcel$interopDefault","Notify","success","closeButton","catch","position2","failure","$47d4ff9957288465$var$position","Promise","resolve","reject","shouldResolve","Math","random"],"version":3,"file":"03-promises.39e5af06.js.map"}